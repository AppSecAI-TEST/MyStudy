记一个非常有意思的项目
---

机缘巧合之下，和朋友聊天的时候，知道他们那有一个基于 Java 的 web 系统。于是，作为一个 Java 功底还算过得去的人，我觉得，应该可以去玩玩。

因为，作为一个 Javaer，说到 Java web 的时候，无外乎 Spring，Struts，Hibernate，或者 MyBatis。于是乎，作为复习，我拿过来看了下。不过第一眼确实是非常惊讶。

因为朋友那边没能拿到相关的文档，没有部署方式和设计方式，所以也是一头雾水。各位可以看下他的目录结构：

```
├── b2b-api-base
├── b2b-api-content
├── b2b-api-customer
├── b2b-api-lucene
├── b2b-api-mail
├── b2b-api-payment
├── b2b-api-product
├── b2b-api-salesorder
├── b2b-api-security
├── b2b-api-shipment
├── b2b-api-sms
├── b2b-api-sns
├── b2b-backend-base
├── b2b-backend-content
├── b2b-backend-customer
├── b2b-backend-lucene
├── b2b-backend-mail
├── b2b-backend-payment
├── b2b-backend-product
├── b2b-backend-salesorder
├── b2b-backend-security
├── b2b-backend-shipment
├── b2b-backend-sms
├── b2b-backend-sns
├── b2b-common-backend
├── b2b-common-config
├── b2b-common-core
├── b2b-common-frontend
├── b2b-common-public
├── b2b-root
├── b2b-service-base
├── b2b-service-content
├── b2b-service-customer
├── b2b-service-lucene
├── b2b-service-mail
├── b2b-service-payment
├── b2b-service-product
├── b2b-service-salesorder
├── b2b-service-security
├── b2b-service-shipment
├── b2b-service-sms
├── b2b-service-sns
├── system-b2b-backend
├── system-b2b-pc-platform
├── system-b2b-pc-shop
├── system-b2b-wap-platform
├── system-b2b-wap-shop
├── system-b2b-webservice
├── system-doc
└── system-fileserver
```

这一眼看过去，第一反应就是服务化过后的网站系统。但是服务化，应该也是相当大规模的网站应该采取的措施。但是对方居然在刚起步的时候使用了服务化架构。也是很有前瞻性。

仔细分析下来，他的技术选型倒还是挺中规中矩的。服务化框架使用的是 dubbo，集群管理使用 zookeeper，数据库 ORM 使用 MyBatis，MVC 使用框架 Spring MVC，组件依赖使用 Spring 的 IOC。所以这样分析下来，他的部署方式也就清楚了。本地部署 Zookeeper，然后将 dubbo 的组件注册，dubbo 服务启动之后，最后开启网站系统。简直就是干(sang)得(xin)漂(bing)亮(kuang)。

架构图的话可以参考下面：
```

```

从整体架构来看的话，这是一个非常完美的设计。包含了接近完美的 fail-over 解决方案以及快速的横向扩展方案（依托 Zookeeper 和 dubbo）。 但是，完美的设计，却在细节上存在很大的问题。

