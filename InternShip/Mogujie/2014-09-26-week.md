周报 -- 2014-09-27
---

1. 本周完成工作：

    + 团购在用户营销平台上相关业务的修改 --- 100%
    + 团购用户发布商品模块重构 --- 100%
    + 发布商品->上线的流程测试 --- 100%
    + 上线商品详情页价格曲线

    **重构效果**

    1. 新的团购用户报名系统controller层代码量为511行，原有代码2324行。

    2. 新的团购报名步骤model层代码271行，原有文件2480行。（没有添加cache，后期会变多）

2. 下周计划

    + 完成后台管理员审核模块

3. 遇到的困难

    + 因为修改涉及到很多的view层代码和js代码，所以改起来时间用的多。
    + 修改常常会带来CSS问题，为了进度，都选择了乎略，之后在和前端联调时进行改动。
    + 之前的代码大量使用已经废弃的数据库操作，和略反人类的buildWhere()方法(参数长达10多个)，而且修改的时侯没有文档，需要理解代码，耗时长。
    + 项目进度不好估计。

4. 现在的思路

    + 先完成一个原型，基本功能实现，暂时定为10月14日。
    + 然后用两天时间review之前的修改，添加cache，和代码的整理。
    + 应该在10.18日完成整个团购的重构。用两天进行数据迁移，和测试。
    + 最终上线时间应该是10.20日
